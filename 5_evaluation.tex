\section{Evaluation and Results}
\label{sec:evaluation-and-results}

% ----- BEGIN PROPOSAL VERSION -----

To assess the functionality and efficiency of the system, we will conduct a series of experiments using a subset of the most popular apps in the Google Play store to see what amount of overhead is added by \textsc{Appjudicator} and whether it can distinguish user-generated from automated flows. In particular, we will measure the additional CPU, memory, and storage usage, as well as the amount of latency introduced by our system. We will perform a standard set of network operations that simulate real life use cases in various apps while our system is enabled and disabled. We will use Android's hardware monitors and traffic capture apps to measure added overhead, and average them across several trials. These tests can be automated with testing frameworks such as Google's UI Automator~\cite{uiautomator2020}.

We expect the added overhead of the VPN and SDN services to be similar to existing Android firewall solutions. Preliminary work implementing a host-based SDN agent for Microsoft Windows introduced a maximum of six milliseconds of delay in 96\% of network flows~\cite{chuluundorj2019}. While we expect the Java Virtual Machine implementation on Android to have more overhead than the relatively efficient Windows version, we still aim for a maximum added latency of less than one frame time on a 60 Hz display, which is about 16 milliseconds. This level of latency should be imperceptible to users.

We will also test how effective the system is at differentiating user-generated network flows from automated ones. On several popular apps from the Google Play store we will first create a default-allow list of automated network requests generated by the apps during normal operation. Then we will initiate new network requests both with and without user interaction to see if \textsc{Appjudicator} can distinguish non-user-initiated flows.

% ----- END PROPOSAL VERSION -----

\subsection{Testing Procedures}
\label{sec:testing-procedures}

% Use Android virtual machines to perform tests
% Use Googleâ€™s UI Automator to simulate user interaction

\subsection{Measuring Overhead}
\label{sec:measuring-overhead}

% Use top 20 most downloaded Google Play apps
% Simulate real use cases with Appjudicator enabled and disabled
% Measure CPU load, battery usage, average RTT and average across several trials
% Include a nice graph

\subsection{Differentiating User-generated Flows}
\label{sec:differentiating-user-generated-flows}

% Use UI Automator to simulate real clicks, also find other apps that make background requests automatically
% Log whether each flow was user-generated, default-allowed, or automated
% What percentage of those flows were classified successfully?

\newpage
